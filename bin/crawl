#!/usr/bin/env ruby

require 'spider'
require "thor"

class Crawl < Thor
  desc 'seed LOCATION DEPTH', 'start the webcrawl at LOCATION'
  def seed(location,depth=20)
    s = Spider::Core.new
    s.seed(location).scrape.crawl(depth)
  end

  desc 'go', 'crawl on the links that are already obtained'
  def go
    s = Spider::Core.new
    s.with_cached.scrape.crawl(20)
  end
end


Crawl.start(ARGV)
